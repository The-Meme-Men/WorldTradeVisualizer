"""Inital migration
Revision ID: a0dea2349cec
Revises: 
Create Date: 2022-05-09 20:59:43.286854
"""
from alembic import op
import sqlalchemy as sa

# revision identifiers, used by Alembic
revision = 'a0dea2349cec'
down_revision = None
branch_labels = None
depends_on = None
def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('commodity',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('description', sa.String(length=256), nullable=True),
    sa.Column('comtrade_code', sa.String(length=32), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_commodity_comtrade_code'), 'commodity', ['comtrade_code'], unique=True)
    op.create_index(op.f('ix_commodity_description'), 'commodity', ['description'], unique=True)
    op.create_table('country',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('country_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.String(length=64), nullable=False),
    sa.Column('iso', sa.String(length=16), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_country_country_id'), 'country', ['country_id'], unique=True)
    op.create_index(op.f('ix_country_iso'), 'country', ['iso'], unique=True)
    op.create_index(op.f('ix_country_name'), 'country', ['name'], unique=True)
    op.create_table('quantity_code',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('code', sa.Integer(), nullable=False),
    sa.Column('description', sa.String(length=64), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('description')
    )
    op.create_index(op.f('ix_quantity_code_code'), 'quantity_code', ['code'], unique=True)
    op.create_table('rg_code',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('code', sa.Integer(), nullable=False),
    sa.Column('description', sa.String(length=64), nullable=False),
    sa.Column('flow_code', sa.String(length=4), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('description'),
    sa.UniqueConstraint('flow_code')
    )
    op.create_index(op.f('ix_rg_code_code'), 'rg_code', ['code'], unique=True)
    op.create_table('trade_stat',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('pf_code', sa.String(length=32), nullable=True),
    sa.Column('year', sa.Integer(), nullable=False),
    sa.Column('period', sa.Integer(), nullable=True),
    sa.Column('period_desc', sa.String(), nullable=True),
    sa.Column('aggregation_level', sa.Integer(), nullable=True),
    sa.Column('is_leaf', sa.Boolean(), nullable=True),
    sa.Column('rg_id', sa.Integer(), nullable=True),
    sa.Column('reporter_id', sa.Integer(), nullable=True),
    sa.Column('partner_id', sa.Integer(), nullable=True),
    sa.Column('partner_2_id', sa.Integer(), nullable=True),
    sa.Column('customs_code', sa.String(), nullable=True),
    sa.Column('customs_desc', sa.String(), nullable=True),
    sa.Column('mot_code', sa.String(), nullable=True),
    sa.Column('mot_desc', sa.String(), nullable=True),
    sa.Column('commodity_id', sa.Integer(), nullable=True),
    sa.Column('quantity_desc_id', sa.Integer(), nullable=True),
    sa.Column('alt_quantity_desc_id', sa.Integer(), nullable=True),
    sa.Column('quantity', sa.Integer(), nullable=True),
    sa.Column('alt_quantity', sa.Integer(), nullable=True),
    sa.Column('net_weight', sa.Integer(), nullable=True),
    sa.Column('gross_weight', sa.Integer(), nullable=True),
    sa.Column('trade_value', sa.Integer(), nullable=True),
    sa.Column('cif_value', sa.Integer(), nullable=True),
    sa.Column('fob_value', sa.Integer(), nullable=True),
    sa.Column('est_code', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['alt_quantity_desc_id'], ['quantity_code.id'], ),
    sa.ForeignKeyConstraint(['commodity_id'], ['commodity.id'], ),
    sa.ForeignKeyConstraint(['partner_2_id'], ['country.id'], ),
    sa.ForeignKeyConstraint(['partner_id'], ['country.id'], ),
    sa.ForeignKeyConstraint(['quantity_desc_id'], ['quantity_code.id'], ),
    sa.ForeignKeyConstraint(['reporter_id'], ['country.id'], ),
    sa.ForeignKeyConstraint(['rg_id'], ['rg_code.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_trade_stat_commodity_id'), 'trade_stat', ['commodity_id'], unique=False)
    op.create_index(op.f('ix_trade_stat_partner_2_id'), 'trade_stat', ['partner_2_id'], unique=False)
    op.create_index(op.f('ix_trade_stat_partner_id'), 'trade_stat', ['partner_id'], unique=False)
    op.create_index(op.f('ix_trade_stat_reporter_id'), 'trade_stat', ['reporter_id'], unique=False)
    op.create_index(op.f('ix_trade_stat_rg_id'), 'trade_stat', ['rg_id'], unique=False)
    op.create_index(op.f('ix_trade_stat_year'), 'trade_stat', ['year'], unique=False)
    # ### end Alembic commands ###
def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_trade_stat_year'), table_name='trade_stat')
    op.drop_index(op.f('ix_trade_stat_rg_id'), table_name='trade_stat')
    op.drop_index(op.f('ix_trade_stat_reporter_id'), table_name='trade_stat')
    op.drop_index(op.f('ix_trade_stat_partner_id'), table_name='trade_stat')
    op.drop_index(op.f('ix_trade_stat_partner_2_id'), table_name='trade_stat')
    op.drop_index(op.f('ix_trade_stat_commodity_id'), table_name='trade_stat')
    op.drop_table('trade_stat')
    op.drop_index(op.f('ix_rg_code_code'), table_name='rg_code')
    op.drop_table('rg_code')
    op.drop_index(op.f('ix_quantity_code_code'), table_name='quantity_code')
    op.drop_table('quantity_code')
    op.drop_index(op.f('ix_country_name'), table_name='country')
    op.drop_index(op.f('ix_country_iso'), table_name='country')
    op.drop_index(op.f('ix_country_country_id'), table_name='country')
    op.drop_table('country')
    op.drop_index(op.f('ix_commodity_description'), table_name='commodity')
    op.drop_index(op.f('ix_commodity_comtrade_code'), table_name='commodity')
    op.drop_table('commodity')
    # ### end Alembic commands ###